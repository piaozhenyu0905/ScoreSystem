{"version":3,"file":"js/624.59c65c6f.js","mappings":"2MAGA,MAAMA,EAAiBA,IACrB,IAAIC,SAAQ,CAACC,EAASC,MACpBC,EAAAA,EAAAA,GAAM,CACJC,OAAQ,MACRC,IAAK,sBACLC,QAAS,CACP,eAAgB,sBAGjBC,MAAMC,IACLP,EAAQO,EAAS,IAElBC,OAAOC,IACNR,EAAOQ,EAAMF,SAAS,GACtB,IAIFG,EAAuBA,CAACC,EAAUC,EAAYC,IAClD,IAAId,SAAQ,CAACC,EAASC,KACpB,IAAIa,EAAO,CACTH,SAAUA,EACVC,WAAYA,EACZC,eAAgBA,IAElBX,EAAAA,EAAAA,GAAM,CACJC,OAAQ,OACRC,IAAK,6BACLC,QAAS,CACP,eAAgB,oBAElBS,KAAMC,KAAKC,UAAUF,KAEpBR,MAAMC,IACLP,EAAQO,EAAS,IAElBC,OAAOC,IACNR,EAAOQ,EAAMF,SAAS,GACtB,G,gUCRR,MAAMU,GAAcC,EAAAA,EAAAA,IAAI,IAClBC,GAAgBD,EAAAA,EAAAA,IAAI,IACpBE,GAAeF,EAAAA,EAAAA,IAAI,IAGnBG,GAAYH,EAAAA,EAAAA,KAAI,GAGhBI,EAAaA,KACfD,EAAUE,OAASF,EAAUE,KAAK,EAIhCC,EAAcA,MAChB1B,EAAAA,EAAAA,KAAiBQ,MAAKmB,IACG,MAAlBA,EAAIX,KAAKY,MACRT,EAAYM,MAAQE,EAAIX,KAAKA,KAAKH,SAClCQ,EAAcI,MAAQE,EAAIX,KAAKA,KAAKF,WACpCQ,EAAaG,MAAQE,EAAIX,KAAKA,KAAKD,gBAEnCc,EAAAA,GAAQlB,MAAM,QAAUgB,EAAIX,KAAKc,IACrC,IACDpB,OAAMqB,IACLC,QAAQC,IAAI,QAAQF,EAAI,GAC1B,EAIAG,EAAaA,MACftB,EAAAA,EAAAA,GAAqBO,EAAYM,MAAOJ,EAAcI,MAAOH,EAAaG,OAAOjB,MAAKmB,IAC7D,MAAlBA,EAAIX,KAAKY,MACRC,EAAAA,GAAQM,QAAQ,SAChBZ,EAAUE,OAAQ,GAElBI,EAAAA,GAAQlB,MAAM,QAAUgB,EAAIX,KAAKc,IACrC,IACDpB,OAAMqB,IACLC,QAAQC,IAAI,QAAQF,EAAI,GAC1B,E,OAGNK,EAAAA,EAAAA,KAAU,KACNV,GAAa,I,ymCCrEjB,MAAMW,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://scoring_system_front/./src/api/headnote.js","webpack://scoring_system_front/./src/page/admin/HeadnoteEdit.vue","webpack://scoring_system_front/./src/page/admin/HeadnoteEdit.vue?20a1"],"sourcesContent":["import axios from \"axios\";\n\n//获取该时间段内的执行情况数据\nconst getHeadnoteApi = () =>\n  new Promise((resolve, reject) => {\n    axios({\n      method: \"get\",\n      url: \"/api/evaluate/table\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((response) => {\n        resolve(response);\n      })\n      .catch((error) => {\n        reject(error.response);\n      });\n  });\n\n//获取该时间段内的执行情况数据\nconst getHeadnoteUpdateApi = (meanings, principles, openingRemarks) =>\n  new Promise((resolve, reject) => {\n    let data = {\n      meanings: meanings,\n      principles: principles,\n      openingRemarks: openingRemarks,\n    };\n    axios({\n      method: \"post\",\n      url: \"/api/evaluate/table/update\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      data: JSON.stringify(data),\n    })\n      .then((response) => {\n        resolve(response);\n      })\n      .catch((error) => {\n        reject(error.response);\n      });\n  });\n\nexport { getHeadnoteApi, getHeadnoteUpdateApi };\n","<!-- 管理员/超级管理员--维护卷首提醒 -->\n<template>\n    <div class=\"headnote-edit\">\n        <div class=\"title\">\n            <h1>成长评估表卷首提醒</h1>\n            <a-button type=\"primary\" ghost @click=\"toggleEdit\">编辑</a-button>\n        </div>\n        <div class=\"content\">\n            <div class=\"culture-text\">\n                <span>文化9条释义</span>\n                <a-textarea v-model:value=\"cultureText\" :disabled=\"!isEditing\" :rows=\"4\" placeholder=\"请输入内容\" :maxlength=\"1000\" />\n            </div>\n            <div class=\"eval-principle\">\n                <span>评估原则及要求</span>\n                <a-textarea v-model:value=\"evalPrinciple\" :disabled=\"!isEditing\" :rows=\"4\" placeholder=\"请输入内容\" :maxlength=\"1000\" />\n            </div>\n            <div class=\"assess-report\">\n                <span>成长评估报告模板语</span>\n                <a-textarea v-model:value=\"assessReport\" :disabled=\"!isEditing\" :rows=\"4\" placeholder=\"请输入内容\" :maxlength=\"1000\" style=\"height: 180px;\"/>\n            </div>\n        </div>\n        <div class=\"submit-btn\">\n            <a-button type=\"primary\" @click=\"submitForm\">确定</a-button>\n        </div>\n    </div>\n</template>\n\n<script setup>\nimport { onMounted, ref } from \"vue\";\nimport { getHeadnoteApi, getHeadnoteUpdateApi } from \"@/api/headnote\";\nimport { message } from \"ant-design-vue\";\n\n// 定义响应式变量\nconst cultureText = ref(\"\");\nconst evalPrinciple = ref(\"\");\nconst assessReport = ref(\"\");\n\n// 编辑状态控制\nconst isEditing = ref(false);\n\n// 切换编辑模式\nconst toggleEdit = () => {\n    isEditing.value = !isEditing.value;\n};\n\n// 获取卷首信息\nconst getHeadnote = () => {\n    getHeadnoteApi().then(res => {\n        if(res.data.code === 200){\n            cultureText.value = res.data.data.meanings\n            evalPrinciple.value = res.data.data.principles\n            assessReport.value = res.data.data.openingRemarks\n        }else{\n            message.error(\"获取失败！\" + res.data.msg);\n        }\n    }).catch(err => {\n        console.log('获取失败！',err);\n    })\n}\n\n// 提交表单\nconst submitForm = () => {\n    getHeadnoteUpdateApi(cultureText.value, evalPrinciple.value, assessReport.value).then(res => {\n        if(res.data.code === 200){\n            message.success(\"修改成功！\")\n            isEditing.value = false;  // 提交后可关闭编辑状态\n        }else{\n            message.error(\"修改失败！\" + res.data.msg);\n        }\n    }).catch(err => {\n        console.log('提交失败！',err);\n    })\n};\n\nonMounted(() => {\n    getHeadnote()\n});\n</script>\n\n<style lang=\"less\" scoped>\n.headnote-edit {\n    width: 100%;\n    height: 100%;\n    padding: 20px 20px 0px 20px;\n}\n\n/* 标题样式 */\n.title {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    background-color: rgba(240, 242, 245, 0.8);\n    padding: 20px 20px;\n    border-bottom: 1px solid #d9d9d9;\n\n    h1 {\n        margin: 0;\n        font-size: 20px;\n        color: #333;\n        text-align: center;\n        flex: 1;\n    }\n\n    a-button {\n        margin-left: auto;\n    }\n}\n\n/* 内容区域样式 */\n.content {\n    background-color: #e6f7ff;\n    /* 浅蓝底色 */\n    padding: 2% 5% 0% 5%;\n    height: 80%;\n    overflow: auto;\n\n    div {\n        display: flex;\n        align-items: center;\n        margin-bottom: 20px;\n\n        span {\n            width: 180px;\n            font-size: 15px;\n            font-weight: 500;\n            white-space: nowrap;\n            text-overflow: ellipsis;\n            overflow: hidden;\n        }\n\n        a-input {\n            flex: 1;\n            margin-left: 10px;\n            textarea {\n                height: 100% !important; /* 确保文本框区域也适应高度 */\n            }\n        }\n    }\n}\n\n/* 提交按钮区域样式 */\n.submit-btn {\n    text-align: center;\n    margin-top: 20px;\n\n    a-button {\n        width: 100px;\n    }\n}\n</style>","import script from \"./HeadnoteEdit.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HeadnoteEdit.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HeadnoteEdit.vue?vue&type=style&index=0&id=7ac96e00&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.10_webpack@5.95.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7ac96e00\"]])\n\nexport default __exports__"],"names":["getHeadnoteApi","Promise","resolve","reject","axios","method","url","headers","then","response","catch","error","getHeadnoteUpdateApi","meanings","principles","openingRemarks","data","JSON","stringify","cultureText","ref","evalPrinciple","assessReport","isEditing","toggleEdit","value","getHeadnote","res","code","message","msg","err","console","log","submitForm","success","onMounted","__exports__"],"sourceRoot":""}