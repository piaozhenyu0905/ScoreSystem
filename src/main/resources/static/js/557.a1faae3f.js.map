{"version":3,"file":"js/557.a1faae3f.js","mappings":"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","sources":["webpack://scoring_system_front/./src/api/headnote.js","webpack://scoring_system_front/./src/api/quesnaireEdit.js","webpack://scoring_system_front/./src/page/ordinary/QuesnaireEdit.vue","webpack://scoring_system_front/./src/page/ordinary/QuesnaireEdit.vue?3d5c"],"sourcesContent":["import axios from \"axios\";\n\n//获取该时间段内的执行情况数据\nconst getHeadnoteApi = () =>\n  new Promise((resolve, reject) => {\n    axios({\n      method: \"get\",\n      url: \"/api/evaluate/table\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((response) => {\n        resolve(response);\n      })\n      .catch((error) => {\n        reject(error.response);\n      });\n  });\n\n//获取该时间段内的执行情况数据\nconst getHeadnoteUpdateApi = (meanings, principles, openingRemarks, title) =>\n  new Promise((resolve, reject) => {\n    let data = {\n      meanings: meanings,\n      principles: principles,\n      openingRemarks: openingRemarks,\n      title: title\n    };\n    axios({\n      method: \"post\",\n      url: \"/api/evaluate/table/update\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      data: JSON.stringify(data),\n    })\n      .then((response) => {\n        resolve(response);\n      })\n      .catch((error) => {\n        reject(error.response);\n      });\n  });\n\nexport { getHeadnoteApi, getHeadnoteUpdateApi };\n","import axios from \"axios\";\n\n//获取该时间段内的执行情况数据\nconst getQuesnaireEditApi = (todoListId, tickSet) => new Promise((resolve, reject) =>{\n    let data = {\n        todoListId: todoListId,\n        tickSet: tickSet,\n      };\n    axios({\n        method:'post',\n        url:'/api/todolist/tick',\n        headers:{\n            \"Content-Type\": \"application/json\",\n        },\n        data: JSON.stringify(data),\n    }).then((response)=>{\n        resolve(response)\n    }).catch((error)=>{\n        reject(error.response)\n    })\n})\n\nexport{\n    getQuesnaireEditApi\n}","<!-- 普通用户--填写评分问卷页面 -->\n<template>\n    <div class=\"main-questionEdit\">\n        <div class=\"quesTitle\">\n            <span class=\"title\">{{ reportTitle }}-成长评估表</span>\n            <span class=\"headNote\">\n                <span>{{ cultureText }}本需求旨在设计一个成长评估系统，将上述文化九条作为评估依据，实现公司内部人员的交叉互评。在填写下面评估表时，</span>\n                <span style=\"font-weight: bold;\">请您遵守以下原则：</span>\n                <span>{{ evalPrinciple }}</span>\n            </span>\n            <span class=\"evaluation\">您当前的评估对象为：</span><span class=\"evaluationName\">{{ evaluatedName }} / {{\n                department }}部</span>\n        </div>\n        <div class=\"quesContent\">\n            <a-form :model=\"formState\" name=\"basic\" autocomplete=\"off\">\n\n                <a-form-item v-for=\"(question, index) in questions\" :key=\"question\" :label=\"'维度' + (index + 1)\"\n                    :name=\"'question' + index\" :rules=\"[{ required: true, message: '' }]\">\n                    <!-- 添加 Tooltip -->\n                    <a-tooltip placement=\"topLeft\" color=\"rgba(0,0,0,0.7)\" :arrow=\"false\">\n                        <template v-slot:title>\n                            <div v-for=\"(detail, detailIndex) in cultureDetail[index]\" :key=\"detailIndex\" style=\"text-align:justify\">\n                                <li>{{ (detailIndex+1)+'、'+detail }}</li>\n                            </div>\n                        </template>\n                        <div class=\"questionTitle\">{{ question }}</div>\n                    </a-tooltip>\n                    <div class=\"questionOptions\">\n                        <a-radio-group v-model:value=\"formState[index]\">\n                            <a-radio v-for=\"(option, optionIndex) in options\" :value=\"optionIndex\" :key=\"option\"\n                                style=\"font-size: 16px; line-height: 40px; width: 200px;\">\n                                {{ option }}\n                            </a-radio>\n                        </a-radio-group>\n                    </div> \n                </a-form-item>\n\n                <a-form-item class=\"submitBtn\">\n                    <a-button type=\"primary\" @click=\"handleSubmit\" style=\"margin-right: 30px;\">确认</a-button>\n                    <a-button type=\"primary\" ghost @click=\"jumpToList\">取消</a-button>\n                </a-form-item>\n            </a-form>\n        </div>\n    </div>\n</template>\n\n<script setup>\nimport { onMounted, ref } from \"vue\"\nimport { message } from 'ant-design-vue'\nimport { useRouter } from 'vue-router';\nimport { getQuesnaireEditApi } from '@/api/quesnaireEdit'\nimport { getHeadnoteApi } from \"@/api/headnote\";\n\nonMounted(() => {\n    getHeadnote()\n})\n\n// 从session中获取被评估人信息\nconst evaluatedName = ref(sessionStorage.getItem('evaluatedName'))\nconst department = ref(sessionStorage.getItem('department'))\nconst todoListId = sessionStorage.getItem('todoListId')\n\nconst router = useRouter();\nconst formState = ref(['', '', '', '', '', '', '', '', ''])\nconst questions = ref(['思想上：开放进取（O）', '作风上：把打胜仗作为信仰（W）', '业务上：创新求实（I）', '工作中：信任互助（H）', '员工间：尊重平等（R）', '行为上：业精于勤（D）', '执行力：使命必达（M）', '团队上：五湖四海（F）', '成长上：坚持自省（I）'])\nconst options = ref(['成为榜样（5分）', '成为习惯（4.5分）', '经常正感知（4分）', '偶尔正感知（3.5分）', '无感知（3分）', '偶尔负感知（2.5分）', '经常负感知（2分）'])\nconst cultureDetail = ref([\n    [\n        \"拥抱变化，勇于接受新思想、新知识、新技术；勇于打开自己，听得进不同的声音和意见，听得进批评。\",\n        \"我们所处的赛道是高速发展的赛道，而我们赖以生存的唯有我们的知识，要生存，唯有持续学习，不断进步。\",\n        \"不给他人打标签，在积极的环境中，每个人都可以不断改变，不断成为更优秀的自己，是公司不断前行的基础。\"\n    ],\n    [\n        \"敢打能赢，英勇无畏，敢啃硬骨头，敢打上甘岭，做最优秀的产品，赢最难的项目。胜利意味着生存，胜利意味着牺牲，胜利也意味集体高于个人，有团队的大胜，才有个人的小赢，胜利是自己和团队最大的荣耀，胜利，是对每一个人最大的激励。“有一种骄傲，是一千个日夜的煎熬”共勉。\",\n        \"以客户为中心，以价值为本，我们存在的价值，就是为客户服务，打胜仗，就是为客户提供最好的产品，最好的服务。对外，以客户需求为中心，以为客户创造价值为本；对内，自己的下游就是自己的客户，为“下游”提供最好的“输出”和“服务”，就是以客户为中心。\"\n    ],\n    [\n        \"创新，就是发现问题，并创造性解决问题。创新是我们的生存法则，是将我们的知识和技能转化为社会价值的唯一途径，简单复制就是平庸。\",\n        \"每个岗位都有创新，新的管理体系、新的工具方法，小到一行代码、一个放大电路，都可以创新，创新意味逆流而上，意味着不甘平庸。\",\n        \"求实，即求真务实，诚信是基础，拒绝弄虚作假；敢讲真话，能讲清楚话，还要能听的进真话，杜绝“捂盖子”；求实，也体现在用简单的方式，让团队成员了解自己，理解自己所说、所想、所为，不绕弯子。\",\n        \"求真，是勇气也是智慧，是刨根问底、刻苦钻研的精神；是从根本出发，触及问题本质，不抹墙皮；是深度学习，深度思考，深度工作。\"\n    ],\n    [\n        \"向善而思，不度他人之腹。\",\n        \"敬畏之心做事，感恩之心做人，心存感恩，整个世界都一片光明，感恩客户，感恩公司，感恩身边的人。\",\n        \"乐于分享，成就他人，不贪功，不躲过，勇担当，胜则举杯相庆，败则拼死相救。\"\n    ],\n    [\n        \"平等，建立在对岗位的誓死捍卫基础之上，即：对岗位职责负责，对岗位价值输出负责，不给团队拖后腿，争当火车头；人有岗位不同，但无高低之分，对于践行自己的岗位职责和价值输出，人人平等，对于践行公司文化，践行成长评估，人人平等。\",\n        \"杜绝吹胡子瞪眼，杜绝恐吓式管理，杜绝一言堂，杜绝以权谋私，以权建小圈子。\",\n        \"事权、人权、财权，公司会长期秉持：事权在团队；人权，在规则；财权在流程。\",\n        \"对事不对人，在相互尊重的基础上，鼓励在“事”理和“物”理层面的争辩，以寻求对个体的突破和对客观世界更深度认知，拒绝为争论而争论，为赢而争论，拒绝人身攻击。\",\n        \"以岗位职责为纲，以贡献为准绳，实现价值分配的公平、公正。\"\n    ],\n    [\n        \"业精，最终体现在打造精品，拒绝平庸，我们是通过产品来实现为客户服务的，要让“精品”成为我们的DNA；精品也体现在过程中的每个环节，每篇文档，每行代码，每个电路，凡输出，必高品质。\",\n        \"以专业的精深，捍卫思想的独立，在自己的领域，努力成为大家最为信赖的人，问题可终结的人。\",\n        \"业精也体现在，深度学习、深度思考、深度工作、追求极致，善于、敢于、习惯于从最本质解决问题。\",\n        \"勤，就是聚焦本职，做有价值的努力，低价值的努力是卷，不努力是惰，我们敬勤，敬卷，不养惰。\"\n    ],\n    [\n        \"核心三个维度：极具挑战的目标，为之付出极大努力，关键结果。目标，体现了认知和意愿；努力，是行动；关键结果，是目标和努力的最终体现。\",\n        \"尽全心、用全力，达成目标，完成使命；不推脱、不解释，宁愿倒在冲锋的路上，也绝不犹豫不前；拒绝弄虚作假。\",\n        \"倒在冲锋的路上，依然是英雄；犹豫不前，讨价还价，给自己最安全的边界，即使完成交付、达成计划，也是思想的逃兵。\"\n    ],\n    [\n        \"杜绝土围子，拒绝小圈子，杜绝公权私用。\",\n        \"拒绝拉帮结派，合适的人做合适的事，让优秀的人做更大的事。\",\n        \"心胸开阔，对事不对人；能理解、包容不同的人。\"\n    ],\n    [\n        \"迭代精神，是互联网时代最伟大精神，是不怕犯错、勇于前行，有错就改的群体精神；自省，就是个体思想上的迭代，是复盘，是举一反三，是避开“解释”的弯路，提升自己认知的最有效路径。\",\n        \"人坚持自省，会成为更好的自己；组织坚持自省，才能不断改进提升。\",\n        \"简单做事，简单做人，不为名所累。\"\n    ]\n]);\n// 映射规则\nconst scoreMap = {\n    0: 5,\n    1: 4.5,\n    2: 4,\n    3: 3.5,\n    4: 3,\n    5: 2.5,\n    6: 2\n};\n// 调用api-提交用户填写的问卷数据\nconst handleSubmit = () => {\n    // 如果formState列表中不存在空字符串，则提交数据\n    if (formState.value.indexOf('') === -1) {\n        // 使用 Array.map() 来映射每个值\n        const tickSet = Array.from(formState.value).map(value => scoreMap[value] || value); \n        getQuesnaireEditApi(todoListId, tickSet).then(res => {\n            if (res.data.code === 200) {\n                message.success(\"提交成功！^_^\")\n                if(localStorage.getItem('userRole')==='0'){\n                    router.push({ path: '/todoList' })\n                }else{\n                    router.push({ path: '/todoListAd' })\n                }\n            } else {\n                message.error(\"提交失败！\" + res.data.msg)\n            }\n        }).catch((err) => {\n            console.log(err)\n        })\n    } else {\n        message.error('请再次检查评估表是否填写完整！');\n    }\n}\nconst jumpToList = () => {\n    if(localStorage.getItem('userRole')==='0'){\n        router.push({ path: '/todoList' })\n    }else{\n        router.push({ path: '/todoListAd' })\n    }\n}\n// 获取卷首信息\nconst cultureText = ref('')\nconst evalPrinciple = ref('')\nconst reportTitle = ref('')\nconst getHeadnote = () => {\n    getHeadnoteApi().then(res => {\n        if(res.data.code === 200){\n            cultureText.value = res.data.data.meanings\n            evalPrinciple.value = res.data.data.principles\n            reportTitle.value = res.data.data.title\n        }else{\n            message.error(\"获取失败！\" + res.data.msg);\n        }\n    }).catch(err => {\n        console.log('获取失败！',err);\n    })\n}\n</script>\n\n<style lang=\"less\" scoped>\n.main-questionEdit {\n    max-height: 80vh; // 设置最大高度为视口高度的80%\n    overflow-y: auto; // 超过最大高度时在Y轴显示滚动条\n\n    .quesTitle {\n        width: 100%;\n\n        .title {\n            display: block;\n            width: 100%;\n            font-size: 20px;\n            font-weight: bold;\n            margin-top: 15px;\n            margin-bottom: 15px;\n            text-align: center;\n        }\n\n        .headNote {\n            display: block;\n            font-size: 16px;\n            line-height: 25px;\n            text-align: justify; // 两端对齐\n            margin-left: 35px;\n            margin-right: 35px;\n            text-indent: 2em; // 首行缩进2个字符\n        }\n\n        .evaluation {\n            font-size: 16px;\n            display: inline-block;\n            color: #3F90F5;\n            font-weight: bold;\n            margin: 20px 0 20px 35px;\n        }\n\n        .evaluationName {\n            font-size: 16px;\n        }\n    }\n\n    .quesContent {\n        margin-left: 35px;\n        margin-right: 35px;\n\n        :deep(.ant-form-item-label > label) {\n            font-size: 16px;\n            font-weight: bold;\n            margin-right: 10px;\n        }\n\n        .questionTitle {\n            font-size: 16px;\n            line-height: 35px;\n            background-color: #C7DBF2;\n            width: auto;\n            border-radius: 10px;\n            padding-left: 15px;\n        }\n\n        .questionOptions {\n            padding-right: 150px;\n        }\n\n        .submitBtn {\n            margin-top: 30px;\n            text-align: center;\n        }\n    }\n}\n</style>","import script from \"./QuesnaireEdit.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./QuesnaireEdit.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./QuesnaireEdit.vue?vue&type=style&index=0&id=5cd74d7c&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.5.13_vue@3.5.13_webpack@5.95.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5cd74d7c\"]])\n\nexport default __exports__"],"names":["getHeadnoteApi","Promise","resolve","reject","axios","method","url","headers","then","response","catch","error","getHeadnoteUpdateApi","meanings","principles","openingRemarks","title","data","JSON","stringify","getQuesnaireEditApi","todoListId","tickSet","onMounted","getHeadnote","evaluatedName","ref","sessionStorage","getItem","department","router","useRouter","formState","questions","options","cultureDetail","scoreMap","handleSubmit","value","indexOf","Array","from","map","res","code","message","success","localStorage","push","path","msg","err","console","log","jumpToList","cultureText","evalPrinciple","reportTitle","__exports__"],"sourceRoot":""}