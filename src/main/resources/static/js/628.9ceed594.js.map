{"version":3,"file":"js/628.9ceed594.js","mappings":"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","sources":["webpack://scoring_system_front/./src/api/todoList.js","webpack://scoring_system_front/./src/page/admin/TodoListAd.vue","webpack://scoring_system_front/./src/page/ordinary/TodoList.vue","webpack://scoring_system_front/./src/page/ordinary/TodoList.vue?a91e"],"sourcesContent":["import axios from \"axios\";\n\n//è·å–è¯¥æ—¶é—´æ®µå†…çš„æ‰§è¡Œæƒ…å†µæ•°æ®\nconst getTodoListApi = (pageNum, pageSize) => new Promise((resolve, reject) =>{\n    axios({\n        method:'get',\n        url:'/api/todolist',\n        headers:{\n            \"Content-Type\": \"application/json\",\n        },\n        params: {\n            pageNum: pageNum,\n            pageSize: pageSize\n        },\n    }).then((response)=>{\n        resolve(response)\n    }).catch((error)=>{\n        reject(error.response)\n    })\n})\n\n//è·å–äººå‘˜åˆ—è¡¨\nconst getUserListApi = () => new Promise((resolve, reject) =>{\n    axios({\n        method:'get',\n        url:'/api/findAll',\n        headers:{\n            \"Content-Type\": \"application/json\",\n        }\n    }).then((response)=>{\n        resolve(response)\n    }).catch((error)=>{\n        reject(error.response)\n    })\n})\n\n//æäº¤é€‰æ‹©çš„è¢«è¯„ä¼°äºº\nconst getEvaluatedListApi = (userIds) => new Promise((resolve, reject) =>{\n    let data = {\n        userIds: userIds\n    };\n    axios({\n        method:'post',\n        url:'/api/add/evaluated',\n        headers:{\n            \"Content-Type\": \"application/json\",\n        },\n      data: JSON.stringify(data),\n    }).then((response)=>{\n        resolve(response)\n    }).catch((error)=>{\n        reject(error.response)\n    })\n})\n\n// è·å–å½“å‰éœ€è¦æ‰“åˆ†çš„äººï¼ˆå³æˆ‘æ˜¯è°çš„è‡ªä¸»è¯„ä¼°äººï¼‰\nconst getAssessorApi = () => new Promise((resolve, reject) =>{\n    axios({\n        method:'get',\n        url:'/api/find/assessor',\n        headers:{\n            \"Content-Type\": \"application/json\",\n        }\n    }).then((response)=>{\n        resolve(response)\n    }).catch((error)=>{\n        reject(error.response)\n    })\n})\nexport{\n    getTodoListApi,\n    getUserListApi,\n    getEvaluatedListApi,\n    getAssessorApi\n}","import script from \"./TodoListAd.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TodoListAd.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<!-- æ™®é€šç”¨æˆ·--æˆ‘çš„å¾…åŠ -->\n<script setup>\nimport { ref, reactive, onMounted, onUnmounted } from \"vue\";\n// import { FormOutlined } from '@ant-design/icons-vue';\nimport { message } from \"ant-design-vue\";\nimport { useRouter } from \"vue-router\";\nimport {\n  getTodoListApi,\n  getUserListApi,\n  getEvaluatedListApi,\n  getAssessorApi,\n} from \"@/api/todoList\";\nimport { notification } from \"ant-design-vue\";\n\nonMounted(() => {\n  getTodoList();\n  getUserList();\n  updateScrollHeight();\n  window.addEventListener(\"resize\", updateScrollHeight);\n\n  getAssessor();\n\n  // é¡µé¢åŠ è½½æ—¶è°ƒç”¨é€šçŸ¥\n  // openNotificationWithIcon('info', 'æ‚¨å¯ç‚¹å‡»â€œæˆ‘è¦è¯„ä¼°â€æŒ‰é’®ï¼Œè‡ªè¡Œæ·»åŠ æ‚¨æƒ³è¯„ä¼°çš„äººå‘˜ï¼Œæ¯è½®è¯„ä¼°å¯é€‰æ‹©0-3äººè¿›è¡Œæ‰“åˆ†å“¦~(ä»…åœ¨ç¬¬ä¸€äºŒé˜¶æ®µå¯æ·»åŠ )^_^');\n});\n// è¿›å…¥é¡µé¢æç¤ºå¯æ·»åŠ â€œæˆ‘è¦è¯„ä¼°â€\nconst openNotificationWithIcon = (type, message) => {\n  notification[type]({\n    message: \"å°æç¤º\",\n    description: message,\n    duration: 300, // è®¾ç½®æŒç»­æ—¶é—´ä¸º nullï¼Œè¡¨ç¤ºé€šçŸ¥ä¸è‡ªåŠ¨å…³é—­\n    placement: \"top\", // è®¾ç½®ä½ç½®ä¸ºé¡¶éƒ¨å±…ä¸­\n    style: {\n      fontSize: \"18px\", // ç›´æ¥ä¿®æ”¹å­—ä½“å¤§å°\n    },\n  });\n};\n\n// åœ¨ç»„ä»¶å¸è½½æ—¶ç§»é™¤äº‹ä»¶ç›‘å¬\nonUnmounted(() => {\n  window.removeEventListener(\"resize\", updateScrollHeight);\n});\n\nconst scrollHeight = ref(\"60vh\"); // å®šä¹‰æ»šåŠ¨åŒºåŸŸé«˜åº¦\nconst router = useRouter();\nconst pagination = reactive({\n  // è¡¨æ ¼é¡µç ç›¸å…³è®¾ç½®\n  pageSize: 11, //æ¯é¡µæœ€å¤šæ¡ç›®æ•°\n  current: 1, //å½“å‰é¡µç \n  showSizeChanger: false,\n  total: 0, //æ€»æ¡ç›®æ•°\n  showTotal: (total, range) => `æ€»å…± ${total} æ¡æ•°æ®`, // åœ¨è¿™é‡Œå®šä¹‰æ˜¾ç¤ºæ€»æ•°æ®é‡çš„æ ¼å¼\n});\nconst columns = ref([\n  {\n    title: \"åºå·\",\n    dataIndex: \"index\",\n    key: \"index\",\n    width: \"10%\",\n    align: \"center\",\n  },\n  {\n    title: \"ä»»åŠ¡ç±»å‹\",\n    dataIndex: \"taskTag\",\n    key: \"taskTag\",\n    width: \"15%\",\n    align: \"center\",\n  },\n  {\n    title: \"ä»»åŠ¡è¯¦æƒ…\",\n    dataIndex: \"taskDetail\",\n    key: \"taskDetail\",\n    width: \"30%\",\n    align: \"center\",\n  },\n  {\n    title: \"æäº¤æ—¶é—´\",\n    dataIndex: \"submitTime\",\n    key: \"submitTime\",\n    align: \"center\",\n  },\n  {\n    title: \"æ“ä½œ\",\n    key: \"action\",\n    align: \"center\",\n  },\n]);\nconst data = ref([]);\n\n// åŠ¨æ€æ›´æ–°é«˜åº¦\nconst updateScrollHeight = () => {\n  const screenHeight = window.innerHeight;\n  const containerHeight = screenHeight - 35 - 10; // å‡è®¾çˆ¶å®¹å™¨éœ€è¦å‡å»å›ºå®šçš„åç§»é‡\n  if (screenHeight < 800) {\n    scrollHeight.value = `${containerHeight * 0.63}px`; // å°å±å¹•é«˜åº¦ä¸º 50%\n  } else {\n    scrollHeight.value = `${containerHeight * 0.7}px`; // å¤§å±å¹•é«˜åº¦ä¸º 80%\n  }\n};\n// è°ƒç”¨api-è·å–å¾…åŠåˆ—è¡¨\nconst getTodoList = () => {\n  // æ¸…ç©º data.value\n  data.value.splice(0, data.value.length);\n  // å¤„ç†å½“å‰é¡µç \n  if (sessionStorage.getItem(\"currentIndex\")) {\n    pagination.current = sessionStorage.getItem(\"currentIndex\");\n  }\n  getTodoListApi(pagination.current, pagination.pageSize)\n    .then((res) => {\n      if (res.data.code === 200) {\n        // è®¾ç½®åˆ†é¡µæ€»æ•°\n        pagination.total = res.data.data.total;\n\n        // æ¸…ç©º data.valueï¼Œé¿å…å¤šæ¬¡è¿½åŠ å¯¼è‡´é‡å¤æ•°æ®\n        data.value = [];\n\n        // ç­›é€‰æ•°æ®ï¼šä»…ä¿ç•™ operation ä¸º 0 çš„é¡¹\n        const filteredData = res.data.data.data.filter(\n          (item) => item.operation === 0\n        );\n\n        // æ˜ å°„æ•°æ®ï¼Œæ ¼å¼åŒ–å¹¶è¿½åŠ åˆ° data.value\n        data.value.push(\n          ...filteredData.map((item, index) => ({\n            key: item.id,\n            index: index + 1,\n            taskTag: item.type,\n            taskDetail: item.detail,\n            submitTime: item.presentDate,\n            operation: item.operation,\n            evaluatedName: item.evaluatedName,\n            department: item.department,\n          }))\n        );\n      } else {\n        // å¤„ç†éæˆåŠŸå“åº”\n        message.error(\"è·å–å¤±è´¥ï¼\" + res.data.msg);\n      }\n    })\n    .catch((err) => {\n      // æ•è·å¹¶å¤„ç†è¯·æ±‚é”™è¯¯\n      message.error(\"è¯·æ±‚å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•ï¼\");\n    });\n};\n\n// è®¾ç½®ä¸‰ç§ä»»åŠ¡æ ‡ç­¾çš„é¢œè‰²\nconst getTagColor = (taskTag) => {\n  if (taskTag === \"æ·»åŠ è¯„ä¼°äººå®¡æ‰¹\") return \"cyan\";\n  if (taskTag === \"æ·»åŠ è¢«è¯„ä¼°äººå®¡æ‰¹\") return \"orange\";\n  if (taskTag === \"å‘¨è¾¹è¯„è®®\") return \"purple\";\n  return \"green\";\n};\n// è°ƒç”¨api-è¿›è¡Œå•æ¡ä»»åŠ¡çš„åŒæ„\nconst handleAgreeOne = (record) => {\n  // 1ã€è·å–ä¼ å…¥æ¥å£çš„ä»»åŠ¡id\n  // 2ã€è°ƒç”¨å•æ¡åŒæ„æ¥å£\n  message.success(\"åŒæ„æˆåŠŸï¼\");\n};\n// å¤„ç†ç¿»é¡µ\nconst handleTableChange = (e) => {\n  pagination.current = Number(e.current); //æ›´æ–°å½“å‰é¡µç \n  pagination.pageSize = e.pageSize; //æ›´æ–°æ¯é¡µæ˜¾ç¤ºæ¡ç›®æ•°\n  sessionStorage.setItem(\"currentIndex\", pagination.current);\n  getTodoList(); // é‡æ–°è·å–åˆ—è¡¨æ•°æ®\n};\nconst openRefuse = ref(false); //æ‹’ç»ç†ç”±è¾“å…¥æ¡†é»˜è®¤ä¸å±•ç¤º\nconst showModal = () => {\n  openRefuse.value = true;\n};\nconst handleEnterQues = (record) => {\n  // 1ã€è·å–recordä¸­çš„è¢«è¯„ä¼°äººä¿¡æ¯ï¼ˆå§“å+éƒ¨é—¨ï¼‰\n  const evaluatedName = record.evaluatedName;\n  const department = record.department;\n  const todoListId = record.key;\n  // 2ã€é€šè¿‡sessionä¼ é€’ä¿¡æ¯\n  sessionStorage.setItem(\"evaluatedName\", evaluatedName);\n  sessionStorage.setItem(\"department\", department);\n  sessionStorage.setItem(\"todoListId\", todoListId);\n  // 3ã€é¡µé¢è·³è½¬\n  if (localStorage.getItem(\"userRole\") === \"0\") {\n    router.push({\n      path: \"/quesnaireEdit\",\n    });\n  } else {\n    router.push({\n      path: \"/quesnaireEditAd\",\n    });\n  }\n};\nconst openDetail = ref(false); //æŸ¥çœ‹è¯¦æƒ…å¼¹çª—é»˜è®¤ä¸å±•ç¤º\nconst showDetail = () => {\n  openDetail.value = true;\n};\nconst openEvaluator = ref(false); //æ·»åŠ è¢«è¯„ä¼°äººå¼¹çª—é»˜è®¤ä¸å±•ç¤º\nconst showEvaluator = () => {\n  openEvaluator.value = true;\n};\nconst evaluator = ref([]);\nconst options = ref([]);\n// è·å–äººå‘˜åˆ—è¡¨\nconst getUserList = () => {\n  getUserListApi()\n    .then((res) => {\n      if (res.data.code === 200) {\n        options.value = [];\n        for (let i = 0; i <= res.data.data.length - 1; i++) {\n          options.value.push({\n            value:\n              res.data.data[i].name + \"(\" + res.data.data[i].department + \")\",\n            key: res.data.data[i].userId,\n          });\n        }\n      } else {\n        message.error(\"è·å–å¤±è´¥ï¼\" + res.data.msg);\n      }\n    })\n    .catch((err) => {\n      message.error(\"è¯·æ±‚å¤±è´¥ï¼\", err);\n    });\n};\n// è°ƒç”¨api-å°†é€‰æ‹©çš„è¢«è¯„ä¼°äººkeyå€¼ä¼ ç»™åç«¯\nconst handleEvaluatorOk = () => {\n  // 1ã€è·å–è¢«è¯„ä¼°äººkeyå€¼\n  const selectedKeys = evaluator.value.map(\n    (item) => options.value.find((opt) => opt.value === item).key\n  );\n  if (selectedKeys.length === 0) {\n    message.warn(\"æ‚¨è¿˜æœªé€‰æ‹©è¢«è¯„ä¼°äººå“¦ğ–¦¹ğ–¦¹ .áŸ.áŸ \");\n    return;\n  }\n  if (selectedKeys.length > 3) {\n    message.warn(\"æœ€å¤šåªèƒ½é€‰æ‹©ä¸‰ä¸ªè¢«è¯„ä¼°äººå“¦ğ–¦¹ğ–¦¹ .áŸ.áŸ \");\n    return;\n  }\n  // 2ã€è°ƒç”¨æ·»åŠ è¢«è¯„ä¼°äººæ¥å£ï¼ˆè‹¥æ·»åŠ æˆåŠŸï¼Œæ¸…é™¤evaluatorå€¼ï¼‰\n  getEvaluatedListApi(selectedKeys)\n    .then((res) => {\n      if (res.data.code === 200) {\n        message.success(\"æ·»åŠ æˆåŠŸï¼\");\n        evaluator.value = [];\n        getAssessor(); // åˆ·æ–°è¢«è¯„ä¼°äººè¡¨æ ¼\n        getTodoList(); // åˆ·æ–°å¾…åŠè¡¨æ ¼\n        openEvaluator.value = false; // 3ã€å…³é—­å¼¹çª—\n      } else {\n        message.error(\"æ·»åŠ å¤±è´¥ï¼\" + res.data.msg);\n      }\n    })\n    .catch((err) => {\n      message.error(\"è¯·æ±‚å¤±è´¥ï¼\", err);\n    });\n};\n\n// æ·»åŠ è‡ªä¸»è¯„ä¼°äººç›¸å…³é…ç½®\nconst columnsDetail = ref([\n  {\n    title: \"åºå·\",\n    dataIndex: \"index\",\n    key: \"index\",\n    align: \"center\",\n  },\n  {\n    title: \"å§“å\",\n    dataIndex: \"username\",\n    key: \"username\",\n    align: \"center\",\n  },\n  {\n    title: \"éƒ¨é—¨\",\n    dataIndex: \"department\",\n    key: \"department\",\n    align: \"center\",\n  },\n]);\nconst dataDetail = ref([]);\nconst getAssessor = () => {\n  getAssessorApi()\n    .then((res) => {\n      if (res.data.code === 200) {\n        dataDetail.value = [];\n        for (let i = 0; i <= res.data.data.length - 1; i++) {\n          dataDetail.value.push({\n            index: i + 1,\n            username: res.data.data[i].username,\n            department: res.data.data[i].department,\n          });\n        }\n      } else {\n        message.error(\"è·å–å¤±è´¥ï¼\" + res.data.msg);\n      }\n    })\n    .catch((err) => {\n      message.error(\"è¯·æ±‚å¤±è´¥ï¼\", err);\n    });\n};\n</script>\n\n<template>\n  <div class=\"todoList-container\">\n    <div class=\"left\">\n      <!-- æ ‡é¢˜åŒºåŸŸ -->\n      <div class=\"title\">\n        <span>æˆ‘çš„å¾…åŠ</span>\n      </div>\n      <!-- å†…å®¹åŒºåŸŸ -->\n      <div class=\"todoTable\">\n        <!-- å¾…åŠè¡¨æ ¼ -->\n        <a-table\n          :columns=\"columns\"\n          :data-source=\"data\"\n          :rowKey=\"(record) => record.key\"\n          :scroll=\"{ y: scrollHeight }\"\n          :pagination=\"pagination\"\n          :bordered=\"true\"\n          @change=\"handleTableChange\"\n        >\n          <template #bodyCell=\"{ column, record }\">\n            <!-- è®¾ç½®ä¸‰ç§ä»»åŠ¡æ ‡ç­¾çš„é¢œè‰² -->\n            <template v-if=\"column.key === 'taskTag'\">\n              <span>\n                <a-tag\n                  :key=\"record.taskTag\"\n                  :color=\"getTagColor(record.taskTag)\"\n                >\n                  {{ record.taskTag }}\n                </a-tag>\n              </span>\n            </template>\n            <!-- è®¾ç½®æ“ä½œæ  -->\n            <template v-if=\"column.key === 'action'\">\n              <span v-if=\"record.taskTag === 'æ·»åŠ è¯„ä¼°äººå®¡æ‰¹'\">\n                <a\n                  style=\"color: #0014b7; text-decoration: underline\"\n                  @click=\"showDetail\"\n                  >æŸ¥çœ‹è¯¦æƒ…</a\n                >\n                <a-divider type=\"vertical\" />\n                <a style=\"color: #bd3124; font-weight: bold\" @click=\"showModal\"\n                  >æ‹’ç»</a\n                >\n              </span>\n              <span v-else-if=\"record.taskTag === 'æ·»åŠ è¢«è¯„ä¼°äººå®¡æ‰¹'\">\n                <a\n                  style=\"color: #3f9373; font-weight: bold\"\n                  @click=\"handleAgreeOne(record)\"\n                  >åŒæ„</a\n                >\n                <a-divider type=\"vertical\" />\n                <a style=\"color: #bd3124; font-weight: bold\" @click=\"showModal\"\n                  >æ‹’ç»</a\n                >\n              </span>\n              <span v-else-if=\"record.taskTag === 'å‘¨è¾¹è¯„è®®'\">\n                <a\n                  style=\"color: #3f9373; font-weight: bold\"\n                  @click=\"handleEnterQues(record)\"\n                  >è¿›å…¥è¯„è®®</a\n                >\n              </span>\n            </template>\n          </template>\n        </a-table>\n      </div>\n    </div>\n    <div class=\"right\">\n      <a-button type=\"primary\" @click=\"showEvaluator\"> æˆ‘è¦è¯„ä¼° </a-button>\n      <!-- æˆ‘è¦è¯„ä¼°è¡¨æ ¼ -->\n      <div style=\"margin-top: 10px\">\n        <a-table\n          :columns=\"columnsDetail\"\n          :data-source=\"dataDetail\"\n          :bordered=\"false\"\n          :pagination=\"false\"\n          :scroll=\"{ y: '60vh' }\"\n        >\n        </a-table>\n      </div>\n\n      <!-- æ·»åŠ è¢«è¯„ä¼°äººå¼¹çª— -->\n      <a-modal\n        v-model:open=\"openEvaluator\"\n        title=\"æ·»åŠ è¢«è¯„ä¼°äºº\"\n        @ok=\"handleEvaluatorOk\"\n      >\n        <span style=\"color: #bd3124\">æ³¨ï¼šæ‚¨å¯ä»¥è‡ªä¸»é€‰æ‹©1-3ä¸ªè¦è¯„ä¼°çš„äºº</span>\n        <a-select\n          v-model:value=\"evaluator\"\n          :options=\"options\"\n          mode=\"multiple\"\n          placeholder=\"è¯·é€‰æ‹©\"\n          style=\"width: 100%\"\n        >\n        </a-select>\n      </a-modal>\n    </div>\n  </div>\n</template>\n\n<style lang=\"less\" scoped>\n.todoList-container {\n  // border: 1px solid red;\n  display: flex;\n  width: 100%;\n  height: 100%;\n  gap: 10px;\n}\n\n.left {\n  border: 1.5px dashed rgba(128, 191, 255, 0.7);\n  width: 70%;\n  padding: 10px;\n  /* ç»™å·¦ä¾§åŒºåŸŸåŠ ç‚¹å†…è¾¹è· */\n\n  .title {\n    // border: 1px solid blue;\n    height: 35px;\n    display: flex;\n    justify-content: space-between;\n    margin: 0px 10px 10px 10px;\n\n    span {\n      font-size: 16px;\n      font-weight: bold;\n      display: flex;\n      align-items: center;\n    }\n  }\n\n  .todoTable {\n    height: calc(100% - 35px - 10px);\n    // border: 1px solid red;\n    margin: 0 10px 0 10px;\n    overflow: hidden;\n    /* é˜²æ­¢æ»šåŠ¨æ¡æº¢å‡º */\n  }\n}\n\n.right {\n  // border: 1px solid orange;\n  width: 30%;\n  padding: 15px;\n  background-color: rgba(179, 217, 255, 0.3);\n  box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.1);\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n}\n</style>","import script from \"./TodoList.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TodoList.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./TodoList.vue?vue&type=style&index=0&id=6ba2387a&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.10_webpack@5.95.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6ba2387a\"]])\n\nexport default __exports__"],"names":["getTodoListApi","pageNum","pageSize","Promise","resolve","reject","axios","method","url","headers","params","then","response","catch","error","getUserListApi","getEvaluatedListApi","userIds","data","JSON","stringify","getAssessorApi","__exports__","onMounted","getTodoList","getUserList","updateScrollHeight","window","addEventListener","getAssessor","onUnmounted","removeEventListener","scrollHeight","ref","router","useRouter","pagination","reactive","current","showSizeChanger","total","showTotal","range","columns","title","dataIndex","key","width","align","screenHeight","innerHeight","containerHeight","value","splice","length","sessionStorage","getItem","res","code","filteredData","filter","item","operation","push","map","index","id","taskTag","type","taskDetail","detail","submitTime","presentDate","evaluatedName","department","message","msg","err","getTagColor","handleAgreeOne","record","success","handleTableChange","e","Number","setItem","openRefuse","showModal","handleEnterQues","todoListId","localStorage","path","openDetail","showDetail","openEvaluator","showEvaluator","evaluator","options","i","name","userId","handleEvaluatorOk","selectedKeys","find","opt","warn","columnsDetail","dataDetail","username"],"sourceRoot":""}