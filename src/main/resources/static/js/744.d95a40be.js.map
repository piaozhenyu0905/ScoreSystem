{"version":3,"file":"js/744.d95a40be.js","mappings":"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","sources":["webpack://scoring_system_front/./src/api/todoList.js","webpack://scoring_system_front/./src/api/scoringMatrix.js","webpack://scoring_system_front/./src/page/admin/ScoringMatrix.vue","webpack://scoring_system_front/./src/page/admin/ScoringMatrix.vue?6fbe"],"sourcesContent":["import axios from \"axios\";\n\n//获取该时间段内的执行情况数据\nconst getTodoListApi = (pageNum, pageSize) => new Promise((resolve, reject) =>{\n    axios({\n        method:'get',\n        url:'/api/todolist',\n        headers:{\n            \"Content-Type\": \"application/json\",\n        },\n        params: {\n            pageNum: pageNum,\n            pageSize: pageSize\n        },\n    }).then((response)=>{\n        resolve(response)\n    }).catch((error)=>{\n        reject(error.response)\n    })\n})\n\n//获取人员列表\nconst getUserListApi = () => new Promise((resolve, reject) =>{\n    axios({\n        method:'get',\n        url:'/api/findAll',\n        headers:{\n            \"Content-Type\": \"application/json\",\n        }\n    }).then((response)=>{\n        resolve(response)\n    }).catch((error)=>{\n        reject(error.response)\n    })\n})\n\n//提交选择的被评估人\nconst getEvaluatedListApi = (userIds) => new Promise((resolve, reject) =>{\n    let data = {\n        userIds: userIds\n    };\n    axios({\n        method:'post',\n        url:'/api/add/evaluated',\n        headers:{\n            \"Content-Type\": \"application/json\",\n        },\n      data: JSON.stringify(data),\n    }).then((response)=>{\n        resolve(response)\n    }).catch((error)=>{\n        reject(error.response)\n    })\n})\n\n// 获取当前需要打分的人（即我是谁的自主评估人）\nconst getAssessorApi = () => new Promise((resolve, reject) =>{\n    axios({\n        method:'get',\n        url:'/api/find/assessor',\n        headers:{\n            \"Content-Type\": \"application/json\",\n        }\n    }).then((response)=>{\n        resolve(response)\n    }).catch((error)=>{\n        reject(error.response)\n    })\n})\n\n// 导出我的打分数据\nconst getExportSelfDataApi = () => new Promise((resolve, reject) =>{\n    axios({ \n        method:'get',\n        url:'/api/export/tick',\n        headers:{\n            \"Content-Type\": \"application/json\",\n        },\n        responseType: 'blob'  // 设置响应类型为 blob，表示二进制文件\n    }).then((response)=>{\n        resolve(response)\n    }).catch((error)=>{\n        reject(error.response)\n    })\n})\n\n// 导出待评分列表\nconst getExportEvaluatedInfoApi = () => new Promise((resolve, reject) =>{\n    axios({ \n        method:'get',\n        url:'/api/export/evaluatedInfo',\n        headers:{\n            \"Content-Type\": \"application/json\",\n        },\n        responseType: 'blob'  // 设置响应类型为 blob，表示二进制文件\n    }).then((response)=>{\n        resolve(response)\n    }).catch((error)=>{\n        reject(error.response)\n    })\n})\n\nexport{\n    getTodoListApi,\n    getUserListApi,\n    getEvaluatedListApi,\n    getAssessorApi,\n    getExportSelfDataApi,\n    getExportEvaluatedInfoApi\n}","import axios from \"axios\";\n\n//获取评分关系矩阵\nconst getScoreMatrixApi = (pageNum, pageSize, name) => new Promise((resolve, reject) =>{\n    let data = {\n        name:name,\n        pageNum: pageNum,\n        pageSize: pageSize\n    };\n    axios({\n        method:'post',\n        url:'/api/find/relationships',\n        headers:{\n            \"Content-Type\": \"application/json\",\n        },\n        data: JSON.stringify(data),\n    }).then((response)=>{\n        resolve(response)\n    }).catch((error)=>{\n        reject(error.response)\n    })\n})\n\n//获取相关人信息\nconst getRelatedPersonInfoApi = (userId) => new Promise((resolve, reject) =>{\n    axios({\n        method:'get',\n        url:'/api/matrix/relatedPersonInfo',\n        headers:{\n            \"Content-Type\": \"application/json\",\n        },\n        params: {\n            userId: userId\n        }\n    }).then((response)=>{\n        resolve(response)\n    }).catch((error)=>{\n        reject(error.response)\n    })\n})\n\n// 添加固定评估人(多选)\nconst getAddEvaluatorApi = (evaluatorIds, userId) => new Promise((resolve, reject) =>{\n    let data = {\n        evaluatorIds: evaluatorIds,  //示例数据:[172, 174, 169]\n        userId: userId\n    }\n    axios({\n        method:'post',\n        url:'/api/add/relationship',\n        headers:{\n            \"Content-Type\": \"application/json\",\n        },\n        data: JSON.stringify(data),\n    }).then((response)=>{\n        resolve(response)\n    }).catch((error)=>{\n        reject(error.response)\n    })\n})\n\n// 删除固定评估人\nconst getDelEvaluatorApi = (evaluatorId, userId) => new Promise((resolve, reject) =>{\n    axios({\n        method:'delete',\n        url:'/api/update/relationship',\n        headers:{\n            \"Content-Type\": \"application/json\",\n        },\n        params: {\n            evaluatorId: evaluatorId,\n            userId: userId\n        },\n    }).then((response)=>{\n        resolve(response)\n    }).catch((error)=>{\n        reject(error.response)\n    })\n})\n\n// 上传矩阵关系文件\nconst getMatrixExcelApi = (file) => new Promise((resolve, reject) => {\n    // 创建 FormData 对象\n    let formData = new FormData();\n    \n    // 将文件添加到 FormData 对象\n    formData.append('file', file);\n\n    // 发起 POST 请求\n    axios({\n        method: 'post',\n        url: '/api/import/relationship',\n        headers: {\n            'Content-Type': 'multipart/form-data',\n        },\n        data: formData,\n    })\n    .then((response) => {\n        // 请求成功的处理\n        resolve(response);\n    })\n    .catch((error) => {\n        // 请求失败的处理\n        reject(error.response);\n    });\n});\n\n// 发布矩阵关系\nconst getPushRelationApi = () => new Promise((resolve, reject) =>{\n    axios({\n        method:'get',\n        url:'/api/relation/step',\n        headers:{\n            \"Content-Type\": \"application/json\",\n        }\n    }).then((response)=>{\n        resolve(response)\n    }).catch((error)=>{\n        reject(error.response)\n    })\n})\n\n// 导出当前矩阵关系表\nconst getMatrixRelationExcel = () => new Promise((resolve, reject) =>{\n    axios({ \n        method:'get',\n        url:'/api/export/relationship',\n        headers:{\n            \"Content-Type\": \"application/json\",\n        },\n        responseType: 'blob'  // 设置响应类型为 blob，表示二进制文件\n    }).then((response)=>{\n        resolve(response)\n    }).catch((error)=>{\n        reject(error.response)\n    })\n})\n\nexport{\n    getScoreMatrixApi,\n    getAddEvaluatorApi,\n    getDelEvaluatorApi,\n    getMatrixExcelApi,\n    getPushRelationApi,\n    getMatrixRelationExcel,\n    getRelatedPersonInfoApi\n}","<!-- 管理员/超级管理员--维护评分矩阵 -->\n<script setup>\nimport { reactive, ref, onMounted, onUnmounted } from \"vue\";\nimport { message } from \"ant-design-vue\";\nimport dayjs from \"dayjs\";\nimport {\n  getScoreMatrixApi,\n  getAddEvaluatorApi,\n  getDelEvaluatorApi,\n  getMatrixExcelApi,\n  getPushRelationApi,\n  getMatrixRelationExcel,\n  getRelatedPersonInfoApi\n} from \"@/api/scoringMatrix\";\nimport { getUserListApi } from \"@/api/todoList\";\nimport { getStepTimeApi } from \"@/api/scoreTimeSet\";\nimport { notification } from 'ant-design-vue'\n\n// 获取用户角色\nconst userRole = ref(localStorage.getItem(\"userRole\"));\nconst isVisible = ref(false);\nif (userRole.value === \"3\" || userRole.value === \"2\") {\n  isVisible.value = true;\n}\n\n// 获取当前评估进度\nconst published = ref(false);\nconst currentSession = ref();\n// 获得当前评估进度\nconst getStepTime = () => {\n  getStepTimeApi()\n    .then((res) => {\n      if (res.data.code === 200) {\n        for (let i = 0; i <= res.data.data.evaluateStep.length - 1; i++) {\n          if (res.data.data.evaluateStep[i].enable === 1) {\n            currentSession.value = i + 1 + \"\";\n            if (currentSession.value === \"1\") {\n              published.value = false;\n            } else {\n              published.value = true;\n            }\n          }\n        }\n      } else {\n        message.error(\"获取失败！\" + res.data.msg);\n      }\n    })\n    .catch((err) => {\n      console.log(\"获取失败！\", err);\n    });\n};\n\n// 搜索框表单数据\nconst serchInfo = reactive({\n  name: null,\n});\n\n// 当前选择的被评估人id\nconst evaluatorId = ref(null);\n// 定义搜索功能提交函数\nconst searchSubmit = () => {\n  pagination.current = 1; // 每次搜索将当前页数变为1\n  // 调用接口进行搜索\n  getScoreMatrix();\n};\n\n// 分页配置\nconst pagination = reactive({\n  // 表格页码相关设置\n  pageSize: 12, //每页最多条目数\n  current: 1, //当前页码\n  showSizeChanger: false,\n  total: 0, //总条目数\n  showTotal: (total, range) => `总共 ${total} 条数据`, // 在这里定义显示总数据量的格式\n});\n\n// 表格的列配置，更新为所需的字段\nconst columns = ref([\n  {\n    title: \"序号\",\n    dataIndex: \"index\",\n    key: \"index\",\n    fixed: \"left\", // 固定在左侧\n    align: \"center\",\n    width: 65,\n  },\n  {\n    title: \"被评估人*\",\n    dataIndex: \"name\",\n    key: \"name\",\n    fixed: \"left\", // 固定在左侧\n    align: \"center\",\n    width: 120,\n  },\n  {\n    title: \"部门\",\n    dataIndex: \"department\",\n    key: \"department\",\n    align: \"center\",\n    width: 100,\n  },\n  {\n    title: 'LXYZ类型',\n    dataIndex: 'lxyz',\n    key: 'lxyz',\n    align: 'center',\n    width: 100,\n  },\n  {\n    title: '业务类型',\n    dataIndex: 'businessType',\n    key: 'businessType',\n    align: 'center',\n    width: 90,\n  },\n  {\n    title: \"主管1*\",\n    dataIndex: \"supervisorName1\",\n    key: \"supervisorName1\",\n    align: \"center\",\n    width: 100,\n  },\n  {\n    title: \"权重1*\",\n    dataIndex: \"weight1\",\n    key: \"weight1\",\n    align: \"center\",\n    width: 75,\n  },\n  {\n    title: \"主管2*\",\n    dataIndex: \"supervisorName2\",\n    key: \"supervisorName2\",\n    align: \"center\",\n    width: 100,\n  },\n  {\n    title: \"权重2*\",\n    dataIndex: \"weight2\",\n    key: \"weight2\",\n    align: \"center\",\n    width: 75,\n  },\n  {\n    title: \"主管3*\",\n    dataIndex: \"supervisorName3\",\n    key: \"supervisorName3\",\n    align: \"center\",\n    width: 100,\n  },\n  {\n    title: \"权重3*\",\n    dataIndex: \"weight3\",\n    key: \"weight3\",\n    align: \"center\",\n    width: 75,\n  },\n  {\n    title: 'HRBP',\n    dataIndex: 'hrName',\n    key: 'hrName',\n    align: 'center',\n    width: 100,\n  },\n  {\n    title: \"相关人*\",\n    dataIndex: \"relatedPerson\",\n    key: \"relatedPerson\",\n    align: \"center\",\n    width: 400,\n  },\n  {\n    title: '超级管理员',\n    dataIndex: 'superAdminName',\n    key: 'superAdminName',\n    align: 'center',\n    width: 120,\n  },\n  {\n    title: '一级管理员',\n    dataIndex: 'firstAdminName',\n    key: 'firstAdminName',\n    align: 'center',\n    width: 120,\n  },\n  {\n    title: '二级管理员',\n    dataIndex: 'secondAdminName',\n    key: 'secondAdminName',\n    align: 'center',\n    width: 120,\n  },\n  {\n    title: \"操作\",\n    key: \"action\",\n    fixed: \"right\", // 固定在右侧\n    align: \"center\",\n    width: 160,\n  },\n]);\n\n// 表格数据\nconst tableData = ref([]);\nconst scrollHeight = ref(\"60vh\"); // 定义滚动区域高度\n// 动态更新高度\nconst updateScrollHeight = () => {\n  const screenHeight = window.innerHeight;\n  const containerHeight = screenHeight - 50 - 10; // 假设父容器需要减去固定的偏移量\n  if (screenHeight < 700) {\n    scrollHeight.value = `${containerHeight * 0.6}px`;\n  } else if (screenHeight < 800){\n    scrollHeight.value = `${containerHeight * 0.62}px`;\n  }\n  else {\n    scrollHeight.value = `${containerHeight * 0.7}px`;\n  }\n};\n// 获取用户表\nconst getScoreMatrix = () => {\n  getScoreMatrixApi(pagination.current, pagination.pageSize, serchInfo.name)\n    .then((res) => {\n      if (res.data.code === 200) {\n        // 设置分页总数\n        pagination.total = res.data.data.total;\n\n        // 清空 data.value，避免多次追加导致重复数据\n        tableData.value = [];\n\n        // 获取数据\n        for (let i = 0; i < res.data.data.data.length; i++) {\n          tableData.value.push({\n            index:\n              pagination.current * pagination.pageSize -\n              pagination.pageSize +\n              i +\n              1,\n            userId: res.data.data.data[i].userId,\n            name: res.data.data.data[i].name,\n            supervisorName1: res.data.data.data[i].supervisorName1,\n            supervisorName2: res.data.data.data[i].supervisorName2,\n            supervisorName3: res.data.data.data[i].supervisorName3,\n            weight1: res.data.data.data[i].weight1,\n            weight2: res.data.data.data[i].weight2,\n            weight3: res.data.data.data[i].weight3,\n            department: res.data.data.data[i].department,\n            lxyz: res.data.data.data[i].lxyz,\n            businessType: res.data.data.data[i].business,\n            firstAdminName: res.data.data.data[i].firstAdminName,\n            secondAdminName: res.data.data.data[i].secondAdminName,\n            superAdminName: res.data.data.data[i].superAdminName,\n            hrName: res.data.data.data[i].hrName,\n            relatedPerson: res.data.data.data[i].relatedPerson,\n          });\n        }\n      }\n    })\n    .catch((err) => {\n      message.error(\"请求失败！\"+ err);\n    });\n};\n\n// 处理翻页\nconst handleTableChange = (e) => {\n  pagination.current = Number(e.current); //更新当前页码\n  pagination.pageSize = e.pageSize; //更新每页显示条目数\n  // sessionStorage.setItem('currentIndex', pagination.current)\n  getScoreMatrix(); // 重新获取列表数据\n};\n\nconst openDetail = ref(false); //查看详情弹窗默认不展示\nconst columnsDetail = ref([\n  {\n    title: \"序号\",\n    dataIndex: \"index\",\n    key: \"index\",\n    width: \"15%\",\n    align: \"center\",\n  },\n  {\n    title: \"用户名\",\n    dataIndex: \"username\",\n    key: \"username\",\n    // width: '15%',\n    align: \"center\",\n  },\n  {\n    title: \"工号\",\n    dataIndex: \"jobuNumber\",\n    key: \"jobuNumber\",\n    // width: '30%',\n    align: \"center\",\n  },\n  {\n    title: \"部门\",\n    dataIndex: \"department\",\n    key: \"department\",\n    // width: '30%',\n    align: \"center\",\n  },\n  {\n    title: \"操作\",\n    key: \"action\",\n    width: \"15%\",\n    align: \"center\",\n  },\n]);\nconst dataDetail = ref([]);\nconst showDetail = (record) => {\n  // 更新当前选择的被评估人id\n  evaluatorId.value = record.userId;\n  // 清空选择列表\n  dataDetail.value = [];\n  getRelatedPersonInfoApi(record.userId).then((res) => {\n    if (res.data.code === 200) {\n      for (let i = 0; i < res.data.data.length; i++) {\n        dataDetail.value.push({\n          index: i + 1,\n          key: res.data.data[i].userId,\n          username: res.data.data[i].name,\n          jobuNumber: res.data.data[i].workNum,\n          department: res.data.data[i].department,\n        })\n      }\n    } else {\n      message.error('获取失败！' + res.data.msg);\n    }\n  }).catch((err) => {\n    console.log('请求失败！', err)\n  });\n  openDetail.value = true;\n};\n// 调用api-删除固定评估人\nconst delOne = (record) => {\n  // 找到与record.key相等的项\n  const index = dataDetail.value.findIndex((item) => item.key === record.key);\n  // 调用api\n  getDelEvaluatorApi(record.key, evaluatorId.value)\n    .then((res) => {\n      if (res.data.code === 200) {\n        message.success(\"删除成功！\");\n        if (index !== -1) {\n          dataDetail.value.splice(index, 1);\n        }\n        getScoreMatrix();\n      } else {\n        message.error(\"删除失败！\" + res.data.msg);\n      }\n    })\n    .catch((err) => {\n      message.error(\"请求失败！\"+ err);\n    });\n};\nconst openEvaluator = ref(false); //添加评测人弹窗默认不展示\nconst showEvaluator = () => {\n  getUserList();\n  openEvaluator.value = true;\n};\nconst evaluator = ref([]);\nconst options = ref([]);\n// 获取人员列表\nconst getUserList = () => {\n  getUserListApi()\n    .then((res) => {\n      if (res.data.code === 200) {\n        options.value = [\n          {\n            label: \"空值\",\n            value: 0,\n          },\n        ];\n        for (let i = 0; i <= res.data.data.length - 1; i++) {\n          options.value.push({\n            label:\n              res.data.data[i].name + \"(\" + res.data.data[i].department + \")\",\n            value: res.data.data[i].userId,\n            name: res.data.data[i].name,\n          });\n        }\n      } else {\n        message.error(\"获取失败！\" + res.data.msg);\n      }\n    })\n    .catch((err) => {\n      message.error(\"请求失败！\"+ err);\n    });\n};\n// 调用api-添加固定评估人\nconst isSubmitting = ref(false);\nconst handleEvaluatorOk = () => {\n  if (isSubmitting.value) {\n        message.warning(\"正在提交中，请勿重复提交！\");\n        return; // 正在提交中，直接返回，避免重复提交\n    }\n    isSubmitting.value = true;\n  // 1、获取评估人key值\n  // 2、调用添加评测人接口\n  const evaluatorIds = Object.values(evaluator.value)\n  // console.log('选择的人',evaluatorIds, '被评估人id', evaluatorId.value)\n\n  if (evaluatorIds.length === 0) {\n    message.error('请选择评估人！')\n    return\n  }\n  getAddEvaluatorApi(evaluatorIds, evaluatorId.value)\n    .then((res) => {\n      if (res.data.code === 200) {\n        message.success(\"添加固定评估人成功！^_^\");\n        // 清空选择框\n        evaluator.value = [];\n        // 刷新列表\n        getScoreMatrix();\n        // 3、关闭弹窗\n        openEvaluator.value = false;\n        openDetail.value = false;\n      } else {\n        message.error(res.data.msg);\n      }\n    })\n    .catch((err) => {\n      console.log(\"请求失败！\", err);\n    })\n    .finally(() => {\n            isSubmitting.value = false; // 无论成功还是失败，都将提交状态置为 false\n    });\n};\n\n// 引用文件输入框\nconst fileInput = ref(null);\n// 加载状态，控制加载动画\nconst loading = ref(false);\n\n// 触发文件选择框\nconst triggerFileInput = () => {\n  fileInput.value.click();\n};\n\n// 导入矩阵关系\nconst handleFileChange = (event) => {\n  const file = event.target.files[0];\n  if (file) {\n    // 开始上传时显示加载动画\n    loading.value = true;\n\n    // 调用上传接口\n    getMatrixExcelApi(file)\n      .then((res) => {\n        // 请求成功后的操作\n        loading.value = false; // 隐藏加载动画\n        if (res.data.code === 200) {\n          message.success(\"文件上传成功~ =• ֊ •=\");\n          // 刷新页面\n          setTimeout(() => {\n            location.reload();\n          }, 500); // 延迟0.5秒刷新页面\n        } else {\n          // 上传失败，显示后端返回的错误信息\n          openNotificationWithIcon('warn', res.data.msg || '文件上传失败，未知原因');\n          getScoreMatrix();\n          // 上传失败后，重置文件输入框，便于用户重新选择文件\n          event.target.value = ''; // 重置文件选择框\n        }\n      })\n      .catch((err) => {\n        loading.value = false; // 隐藏加载动画\n        console.log(\"请求失败！\", err);\n        // 上传失败后，重置文件输入框，便于用户重新选择文件\n        event.target.value = ''; // 重置文件选择框\n      });\n  }\n};\n\n// 矩阵关系表上传失败时展示错误信息\nconst openNotificationWithIcon = (type, message) => {\n  notification[type]({\n    message: '矩阵关系导入情况',\n    description: message,\n    duration: null\n  });\n};\n\n// 获取当前时间并格式化\nconst getCurrentDateTime = () => {\n  const now = new Date();\n  const year = now.getFullYear();\n  const month = (now.getMonth() + 1).toString().padStart(2, \"0\"); // 月份是从0开始的\n  const day = now.getDate().toString().padStart(2, \"0\");\n  return `${year}-${month}-${day}`;\n};\n\n// 处理导出并下载 矩阵关系Excel 文件\nconst downloadExcel = () => {\n  getMatrixRelationExcel()\n    .then((res) => {\n      // 判断响应是否为文件流\n      if (res && res.data) {\n        const blob = new Blob([res.data], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });\n        const link = document.createElement('a');\n        const url = URL.createObjectURL(blob);\n\n        // 使用当前日期来动态生成文件名\n        const fileName = `矩阵关系导出表格${getCurrentDateTime()}.xlsx`;\n\n        link.href = url;\n        link.download = fileName;  // 设置文件名\n        link.click();  // 触发下载\n        message.success(\"矩阵关系导出成功！\");\n      } else {\n        message.error(\"导出失败！未知错误\");\n      }\n    })\n    .catch((err) => {\n      console.error('请求失败：', err);\n      message.error(\"请求失败！\");\n    });\n};\n\n// 发布矩阵关系\nconst getPushRelation = () => {\n  // 开始上传时显示加载动画\n  loading.value = true;\n  getPushRelationApi()\n    .then((res) => {\n      if (res.data.code === 200) {\n        message.success(\"您已发布本轮评估矩阵关系!\");\n        published.value = true;\n        loading.value = false; // 隐藏加载动画\n      } else {\n        message.error(\"发布失败！\" + res.data.msg);\n        loading.value = false; // 隐藏加载动画\n      }\n    })\n    .catch((err) => {\n      message.error(\"请求失败！\" + err);\n      loading.value = false; // 隐藏加载动画\n    });\n};\n\n// 自定义搜索逻辑，只根据姓名进行搜索\nconst filterOption = (input, option) => {\n  if (!input) return true;\n  return option.label.toLowerCase().includes(input.toLowerCase());\n};\n\n// 初始加载数据\nonMounted(() => {\n  getScoreMatrix();\n  getStepTime();\n  updateScrollHeight();\n  window.addEventListener(\"resize\", updateScrollHeight);\n});\n\n// 在组件卸载时移除事件监听\nonUnmounted(() => {\n  window.removeEventListener(\"resize\", updateScrollHeight);\n});\n</script>\n\n<template>\n  <div v-if=\"isVisible\" class=\"score-matrix\">\n    <!-- 表格顶部区域 -->\n    <div class=\"content-header\">\n      <!-- 搜索表单 -->\n      <div class=\"search-form\">\n        <a-form style=\"display: flex; align-items: center\">\n          <a-form-item style=\"margin-right: 10px; width: 300px\">\n            <a-input placeholder=\"请输入被评估人姓名\" v-model:value=\"serchInfo.name\" :allowClear=\"true\" />\n          </a-form-item>\n          <a-form-item>\n            <a-button type=\"primary\" @click.prevent=\"searchSubmit\" class=\"seachBtn\">搜索</a-button>\n          </a-form-item>\n        </a-form>\n      </div>\n      <!-- 右侧按钮 -->\n      <div class=\"submit-Btn\">\n        <a-button type=\"primary\" style=\"margin-right: 10px\" @click=\"triggerFileInput\">导入数据</a-button>\n        <a-button type=\"primary\" style=\"margin-right: 10px\" @click=\"downloadExcel\">导出模板</a-button>\n        <a-popconfirm placement=\"bottom\" title=\"确定要发布本轮矩阵关系吗？\" ok-text=\"确定\" cancel-text=\"取消\"\n          @confirm=\"getPushRelation()\">\n          <a-button v-if=\"!published\" type=\"primary\" style=\"background-color: #39ba06\">\n            发布\n          </a-button>\n        </a-popconfirm>\n        <a-button v-if=\"published\" type=\"primary\" disabled> 已发布 </a-button>\n        <!-- 隐藏的文件上传输入框 -->\n        <input ref=\"fileInput\" type=\"file\" accept=\".xls,.xlsx\" style=\"display: none\" @change=\"handleFileChange\" />\n\n        <!-- 显示加载动画 -->\n        <a-spin :spinning=\"loading\" class=\"loading-spin\" size=\"large\" />\n      </div>\n    </div>\n\n    <!-- 表格内容区域 -->\n    <div class=\"content-table\">\n      <!-- 表格 -->\n      <a-table :columns=\"columns\" :data-source=\"tableData\" :rowKey=\"(record) => record.key\"\n        :scroll=\"{ y: scrollHeight }\" :pagination=\"pagination\" :bordered=\"true\" @change=\"handleTableChange\">\n        <!-- 自定义渲染操作列 -->\n        <template v-slot:bodyCell=\"{ text, record, column }\">\n          <!-- 检查当前列是否为操作列 -->\n          <template v-if=\"column.key === 'action'\">\n            <a-button type=\"text\" @click=\"showDetail(record)\" style=\"color: #0014b7\">修改固定评估人</a-button>\n          </template>\n          <!-- 对其他列使用默认渲染 -->\n          <template v-else>\n            {{ text }}\n          </template>\n        </template>\n      </a-table>\n      <!-- 查看详情弹窗 -->\n      <a-modal v-model:open=\"openDetail\" title=\"修改固定评估人\" :footer=\"null\">\n        <a-table :columns=\"columnsDetail\" :data-source=\"dataDetail\" :bordered=\"true\" :pagination=\"false\"\n          :scroll=\"{ y: '60vh' }\">\n          <template #bodyCell=\"{ column, record }\">\n            <!-- 设置操作栏 -->\n            <template v-if=\"column.key === 'action'\">\n              <a-popconfirm title=\"确定要移除吗？\" ok-text=\"确定\" cancel-text=\"取消\" @confirm=\"delOne(record)\">\n                <a style=\"color: #bd3124; font-weight: bold\"> 移除 </a>\n              </a-popconfirm>\n            </template>\n          </template>\n        </a-table>\n        <div class=\"actionBtn\">\n          <a-button type=\"primary\" @click=\"showEvaluator\">添加评估人</a-button>\n        </div>\n      </a-modal>\n      <!-- 添加评估人弹窗 -->\n      <a-modal v-model:open=\"openEvaluator\" title=\"添加评估人\" @ok=\"handleEvaluatorOk\">\n        <a-select v-model:value=\"evaluator\" :options=\"options\" mode=\"multiple\" placeholder=\"请选择\" style=\"width: 100%\" :filter-option=\"filterOption\">\n        </a-select>\n        <!-- <a-select\n          v-model:value=\"evaluator\"\n          placeholder=\"请选择\"\n          style=\"width: 100%\"\n        >\n          <a-select-option\n            v-for=\"item in options\"\n            :key=\"item.key\"\n            :value=\"item.key\"\n            >{{ item.value }}</a-select-option\n          >\n        </a-select> -->\n      </a-modal>\n    </div>\n  </div>\n\n  <div v-else class=\"no-permission\">\n    <a-empty description=\"您暂无权限查看该页面0~0\" />\n  </div>\n</template>\n\n<style lang=\"less\" scoped>\n.score-matrix {\n  // border: 1px solid red;\n  width: 100%;\n  height: 100%;\n}\n\n.content-header {\n  // border: 1px solid red;\n  display: flex;\n  align-items: center;\n  margin: 0px 10px 0px 10px;\n  height: 50px;\n\n  .submit-Btn {\n    margin-left: auto;\n    margin-bottom: 10px;\n  }\n}\n\n.content-table {\n  // border: 1px solid red;\n  height: calc(100% - 50px - 10px);\n  margin: 0 10px;\n}\n\n.actionBtn {\n  text-align: center;\n  /* 使按钮水平居中 */\n  margin-top: 10px;\n  /* 添加一些间距，让布局更美观 */\n}\n\n.loading-spin {\n  position: fixed;\n  /* 使得a-spin脱离正常文档流 */\n  top: 6%;\n  /* 距离顶部6% */\n  left: 50%;\n  /* 距离左边50% */\n  transform: translate(-50%, -50%);\n  /* 使用transform将a-spin精确居中 */\n  z-index: 9999;\n  /* 确保a-spin在最前面 */\n}\n\n.no-permission {\n  color: #999;\n  display: flex;\n  /* 使用Flexbox布局 */\n  justify-content: center;\n  /* 水平居中 */\n  align-items: center;\n  /* 垂直居中 */\n  height: 100%;\n}\n\n.ant-form-item {\n  margin-bottom: 10px !important;\n}\n\n::v-deep .ant-table-tbody>tr>td {\n  padding: 6px;\n}\n\n::v-deep .ant-table-thead>tr>th {\n  padding: 16px 6px;\n}\n\n.content-table .ant-table-container {\n  overflow-x: scroll !important;\n}\n\n/* 针对Webkit浏览器自定义滚动条样式，使其始终显示 */\n.content-table ::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n}\n\n.content-table ::-webkit-scrollbar-thumb {\n  background: rgba(0, 0, 0, 0.3);\n  border-radius: 4px;\n}\n\n.content-table ::-webkit-scrollbar-track {\n  background: #f1f1f1;\n}\n</style>","import script from \"./ScoringMatrix.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ScoringMatrix.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ScoringMatrix.vue?vue&type=style&index=0&id=115cab4f&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.5.13_vue@3.5.13_webpack@5.95.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-115cab4f\"]])\n\nexport default __exports__"],"names":["getTodoListApi","pageNum","pageSize","Promise","resolve","reject","axios","method","url","headers","params","then","response","catch","error","getUserListApi","getEvaluatedListApi","userIds","data","JSON","stringify","getAssessorApi","getExportSelfDataApi","responseType","getExportEvaluatedInfoApi","getScoreMatrixApi","name","getRelatedPersonInfoApi","userId","getAddEvaluatorApi","evaluatorIds","getDelEvaluatorApi","evaluatorId","getMatrixExcelApi","file","formData","FormData","append","getPushRelationApi","getMatrixRelationExcel","userRole","ref","localStorage","getItem","isVisible","value","published","currentSession","getStepTime","getStepTimeApi","res","code","i","evaluateStep","length","enable","message","msg","err","console","log","serchInfo","reactive","searchSubmit","pagination","current","getScoreMatrix","showSizeChanger","total","showTotal","range","columns","title","dataIndex","key","fixed","align","width","tableData","scrollHeight","updateScrollHeight","screenHeight","window","innerHeight","containerHeight","push","index","supervisorName1","supervisorName2","supervisorName3","weight1","weight2","weight3","department","lxyz","businessType","business","firstAdminName","secondAdminName","superAdminName","hrName","relatedPerson","handleTableChange","e","Number","openDetail","columnsDetail","dataDetail","showDetail","record","username","jobuNumber","workNum","delOne","findIndex","item","success","splice","openEvaluator","showEvaluator","getUserList","evaluator","options","label","isSubmitting","handleEvaluatorOk","warning","Object","values","finally","fileInput","loading","triggerFileInput","click","handleFileChange","event","target","files","setTimeout","location","reload","openNotificationWithIcon","type","notification","description","duration","getCurrentDateTime","now","Date","year","getFullYear","month","getMonth","toString","padStart","day","getDate","downloadExcel","blob","Blob","link","document","createElement","URL","createObjectURL","fileName","href","download","getPushRelation","filterOption","input","option","toLowerCase","includes","onMounted","addEventListener","onUnmounted","removeEventListener","__exports__"],"sourceRoot":""}