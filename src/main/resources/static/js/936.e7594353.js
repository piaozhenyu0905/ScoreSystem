"use strict";(self["webpackChunkscoring_system_front"]=self["webpackChunkscoring_system_front"]||[]).push([[936],{615:function(e,t,a){a.d(t,{W:function(){return o},r:function(){return n}});var s=a(5857);const n=()=>new Promise(((e,t)=>{(0,s.A)({method:"get",url:"/api/evaluate/table",headers:{"Content-Type":"application/json"}}).then((t=>{e(t)})).catch((e=>{t(e.response)}))})),o=(e,t,a,n)=>new Promise(((o,l)=>{let i={meanings:e,principles:t,openingRemarks:a,title:n};(0,s.A)({method:"post",url:"/api/evaluate/table/update",headers:{"Content-Type":"application/json"},data:JSON.stringify(i)}).then((e=>{o(e)})).catch((e=>{l(e.response)}))}))},6936:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});a(9138);var s=a(5115),n=a(9650),o=a(9675),l=a(3771),i=a(7123),u=a(5857);const r=(e,t)=>new Promise(((a,s)=>{let n={todoListId:e,tickSet:t};(0,u.A)({method:"post",url:"/api/todolist/tick",headers:{"Content-Type":"application/json"},data:JSON.stringify(n)}).then((e=>{a(e)})).catch((e=>{s(e.response)}))}));var d=a(615);const p={class:"main"},c={class:"quesTitle"},v={class:"title"},m={class:"headNote"},g={class:"evaluationName"},h={class:"quesContent"},k={class:"questionTitle"},f={class:"questionOptions"};var _={__name:"QuesnaireEdit",setup(e){(0,s.sV)((()=>{S()}));const t=(0,o.KR)(sessionStorage.getItem("evaluatedName")),a=(0,o.KR)(sessionStorage.getItem("department")),u=sessionStorage.getItem("todoListId"),_=(0,i.rd)(),y=(0,o.KR)(["","","","","","","","",""]),L=(0,o.KR)(["思想上：开放进取（O）","作风上：把打胜仗作为信仰（W）","业务上：创新求实（I）","工作中：信任互助（H）","员工间：尊重平等（R）","行为上：业精于勤（D）","执行力：使命必达（M）","团队上：五湖四海（F）","成长上：坚持自省（I）"]),b=(0,o.KR)(["成为榜样（5分）","成为习惯（4.5分）","经常正感知（4分）","偶尔正感知（3.5分）","无感知（3分）","偶尔负感知（2.5分）","经常负感知（2分）"]),I={0:5,1:4.5,2:4,3:3.5,4:3,5:2.5,6:2},R=()=>{if(-1===y.value.indexOf("")){const e=Array.from(y.value).map((e=>I[e]||e));r(u,e).then((e=>{200===e.data.code?(l.Ay.success("提交成功！^_^"),"0"===localStorage.getItem("userRole")?_.push({path:"/todoList"}):_.push({path:"/todoListAd"})):l.Ay.error("提交失败！"+e.data.msg)})).catch((e=>{console.log(e)}))}else l.Ay.error("请再次检查评估表是否填写完整！")},A=()=>{"0"===localStorage.getItem("userRole")?_.push({path:"/todoList"}):_.push({path:"/todoListAd"})},C=(0,o.KR)(""),K=(0,o.KR)(""),F=(0,o.KR)(""),S=()=>{(0,d.r)().then((e=>{200===e.data.code?(C.value=e.data.data.meanings,K.value=e.data.data.principles,F.value=e.data.data.title):l.Ay.error("获取失败！"+e.data.msg)})).catch((e=>{console.log("获取失败！",e)}))};return(e,o)=>{const l=(0,s.g2)("a-radio"),i=(0,s.g2)("a-radio-group"),u=(0,s.g2)("a-form-item"),r=(0,s.g2)("a-button"),d=(0,s.g2)("a-form");return(0,s.uX)(),(0,s.CE)("div",p,[(0,s.Lk)("div",c,[(0,s.Lk)("span",v,(0,n.v_)(F.value)+"-成长评估表",1),(0,s.Lk)("span",m,[(0,s.Lk)("span",null,(0,n.v_)(C.value)+"本需求旨在设计一个成长评估系统，将上述文化九条作为评估依据，实现公司内部人员的交叉互评。在填写下面评估表时，",1),o[0]||(o[0]=(0,s.Lk)("span",{style:{"font-weight":"bold"}},"请您遵守以下原则：",-1)),(0,s.Lk)("span",null,(0,n.v_)(K.value),1)]),o[1]||(o[1]=(0,s.Lk)("span",{class:"evaluation"},"您当前的评估对象为：",-1)),(0,s.Lk)("span",g,(0,n.v_)(t.value)+" / "+(0,n.v_)(a.value)+"部",1)]),(0,s.Lk)("div",h,[(0,s.bF)(d,{model:y.value,name:"basic",autocomplete:"off"},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(L.value,((e,t)=>((0,s.uX)(),(0,s.Wv)(u,{key:e,label:"维度"+(t+1),name:"question"+t,rules:[{required:!0,message:""}]},{default:(0,s.k6)((()=>[(0,s.Lk)("div",k,(0,n.v_)(e),1),(0,s.Lk)("div",f,[(0,s.bF)(i,{value:y.value[t],"onUpdate:value":e=>y.value[t]=e},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(b.value,((e,t)=>((0,s.uX)(),(0,s.Wv)(l,{value:t,key:e,style:{"font-size":"16px","line-height":"40px",width:"200px"}},{default:(0,s.k6)((()=>[(0,s.eW)((0,n.v_)(e),1)])),_:2},1032,["value"])))),128))])),_:2},1032,["value","onUpdate:value"])])])),_:2},1032,["label","name"])))),128)),(0,s.bF)(u,{class:"submitBtn"},{default:(0,s.k6)((()=>[(0,s.bF)(r,{type:"primary",onClick:R,style:{"margin-right":"30px"}},{default:(0,s.k6)((()=>o[2]||(o[2]=[(0,s.eW)("确认")]))),_:1}),(0,s.bF)(r,{type:"primary",ghost:"",onClick:A},{default:(0,s.k6)((()=>o[3]||(o[3]=[(0,s.eW)("取消")]))),_:1})])),_:1})])),_:1},8,["model"])])])}}},y=a(2965);const L=(0,y.A)(_,[["__scopeId","data-v-745d774d"]]);var b=L}}]);
//# sourceMappingURL=936.e7594353.js.map