"use strict";(self["webpackChunkscoring_system_front"]=self["webpackChunkscoring_system_front"]||[]).push([[130],{615:function(e,a,l){l.d(a,{W:function(){return s},r:function(){return n}});var t=l(5857);const n=()=>new Promise(((e,a)=>{(0,t.A)({method:"get",url:"/api/evaluate/table",headers:{"Content-Type":"application/json"}}).then((a=>{e(a)})).catch((e=>{a(e.response)}))})),s=(e,a,l,n)=>new Promise(((s,u)=>{let d={meanings:e,principles:a,openingRemarks:l,title:n};(0,t.A)({method:"post",url:"/api/evaluate/table/update",headers:{"Content-Type":"application/json"},data:JSON.stringify(d)}).then((e=>{s(e)})).catch((e=>{u(e.response)}))}))},1130:function(e,a,l){l.r(a),l.d(a,{default:function(){return g}});var t=l(7616),n=l(3e3),s=l(615),u=l(1516);const d={class:"headnote-edit"},o={class:"title"},r={class:"content"},i={class:"culture-text"},v={class:"eval-principle"},c={class:"assess-report"},p={class:"report-title"},h={key:0,class:"submit-btn"};var b={__name:"HeadnoteEdit",setup(e){const a=(0,n.KR)(""),l=(0,n.KR)(""),b=(0,n.KR)(""),k=(0,n.KR)(""),m=(0,n.KR)(!1),g=()=>{m.value=!m.value},f=()=>{(0,s.r)().then((e=>{200===e.data.code?(a.value=e.data.data.meanings,l.value=e.data.data.principles,b.value=e.data.data.openingRemarks,k.value=e.data.data.title):u.Ay.error("获取失败！"+e.data.msg)})).catch((e=>{console.log("获取失败！",e)}))},y=()=>{(0,s.W)(a.value,l.value,b.value,k.value).then((e=>{200===e.data.code?(u.Ay.success("修改成功！"),m.value=!1):u.Ay.error("修改失败！"+e.data.msg)})).catch((e=>{console.log("提交失败！",e)}))};return(0,t.sV)((()=>{f()})),(e,n)=>{const s=(0,t.g2)("a-button"),u=(0,t.g2)("a-textarea");return(0,t.uX)(),(0,t.CE)("div",d,[(0,t.Lk)("div",o,[n[5]||(n[5]=(0,t.Lk)("h1",null,"成长评估表卷首提醒",-1)),(0,t.bF)(s,{type:"primary",ghost:"",onClick:g},{default:(0,t.k6)((()=>n[4]||(n[4]=[(0,t.eW)("编辑")]))),_:1})]),(0,t.Lk)("div",r,[(0,t.Lk)("div",i,[n[6]||(n[6]=(0,t.Lk)("span",null,"文化9条释义",-1)),(0,t.bF)(u,{value:a.value,"onUpdate:value":n[0]||(n[0]=e=>a.value=e),disabled:!m.value,rows:4,placeholder:"请输入内容",maxlength:1e3},null,8,["value","disabled"])]),(0,t.Lk)("div",v,[n[7]||(n[7]=(0,t.Lk)("span",null,"评估原则及要求",-1)),(0,t.bF)(u,{value:l.value,"onUpdate:value":n[1]||(n[1]=e=>l.value=e),disabled:!m.value,rows:4,placeholder:"请输入内容",maxlength:1e3},null,8,["value","disabled"])]),(0,t.Lk)("div",c,[n[8]||(n[8]=(0,t.Lk)("span",null,"成长评估报告模板语",-1)),(0,t.bF)(u,{value:b.value,"onUpdate:value":n[2]||(n[2]=e=>b.value=e),disabled:!m.value,rows:4,placeholder:"请输入内容",maxlength:1e3},null,8,["value","disabled"])]),(0,t.Lk)("div",p,[n[9]||(n[9]=(0,t.Lk)("span",null,"当前评估周期名称",-1)),(0,t.bF)(u,{value:k.value,"onUpdate:value":n[3]||(n[3]=e=>k.value=e),disabled:!m.value,rows:3,placeholder:"标题不能超过20字",maxlength:20},null,8,["value","disabled"])])]),m.value?((0,t.uX)(),(0,t.CE)("div",h,[(0,t.bF)(s,{type:"primary",onClick:y},{default:(0,t.k6)((()=>n[10]||(n[10]=[(0,t.eW)("确定")]))),_:1})])):(0,t.Q3)("",!0)])}}},k=l(3578);const m=(0,k.A)(b,[["__scopeId","data-v-2fb2beb3"]]);var g=m}}]);
//# sourceMappingURL=130.2e50884f.js.map