"use strict";(self["webpackChunkscoring_system_front"]=self["webpackChunkscoring_system_front"]||[]).push([[500],{615:function(e,a,l){l.d(a,{W:function(){return s},r:function(){return n}});var t=l(5857);const n=()=>new Promise(((e,a)=>{(0,t.A)({method:"get",url:"/api/evaluate/table",headers:{"Content-Type":"application/json"}}).then((a=>{e(a)})).catch((e=>{a(e.response)}))})),s=(e,a,l,n)=>new Promise(((s,u)=>{let o={meanings:e,principles:a,openingRemarks:l,title:n};(0,t.A)({method:"post",url:"/api/evaluate/table/update",headers:{"Content-Type":"application/json"},data:JSON.stringify(o)}).then((e=>{s(e)})).catch((e=>{u(e.response)}))}))},7119:function(e,a,l){l.r(a),l.d(a,{default:function(){return y}});var t=l(7616),n=l(3e3),s=l(615),u=l(1516);const o={key:0,class:"headnote-edit"},d={class:"title"},r={class:"content"},i={class:"culture-text"},v={class:"eval-principle"},c={class:"assess-report"},p={class:"report-title"},h={key:0,class:"submit-btn"},k={key:1,class:"no-permission"};var m={__name:"HeadnoteEdit",setup(e){const a=(0,n.KR)(localStorage.getItem("userRole")),l=(0,n.KR)(!1);"3"!==a.value&&"2"!==a.value||(l.value=!0);const m=(0,n.KR)(""),b=(0,n.KR)(""),g=(0,n.KR)(""),y=(0,n.KR)(""),f=(0,n.KR)(!1),L=()=>{f.value=!f.value},R=()=>{(0,s.r)().then((e=>{200===e.data.code?(m.value=e.data.data.meanings,b.value=e.data.data.principles,g.value=e.data.data.openingRemarks,y.value=e.data.data.title):u.Ay.error("获取失败！"+e.data.msg)})).catch((e=>{console.log("获取失败！",e)}))},_=()=>{(0,s.W)(m.value,b.value,g.value,y.value).then((e=>{200===e.data.code?(u.Ay.success("修改成功！"),f.value=!1):u.Ay.error("修改失败！"+e.data.msg)})).catch((e=>{console.log("提交失败！",e)}))};return(0,t.sV)((()=>{R()})),(e,a)=>{const n=(0,t.g2)("a-button"),s=(0,t.g2)("a-textarea"),u=(0,t.g2)("a-empty");return l.value?((0,t.uX)(),(0,t.CE)("div",o,[(0,t.Lk)("div",d,[a[5]||(a[5]=(0,t.Lk)("h1",null,"成长评估表卷首提醒",-1)),(0,t.bF)(n,{type:"primary",ghost:"",onClick:L},{default:(0,t.k6)((()=>a[4]||(a[4]=[(0,t.eW)("编辑")]))),_:1})]),(0,t.Lk)("div",r,[(0,t.Lk)("div",i,[a[6]||(a[6]=(0,t.Lk)("span",null,"文化9条释义",-1)),(0,t.bF)(s,{value:m.value,"onUpdate:value":a[0]||(a[0]=e=>m.value=e),disabled:!f.value,rows:4,placeholder:"请输入内容",maxlength:1e3},null,8,["value","disabled"])]),(0,t.Lk)("div",v,[a[7]||(a[7]=(0,t.Lk)("span",null,"评估原则及要求",-1)),(0,t.bF)(s,{value:b.value,"onUpdate:value":a[1]||(a[1]=e=>b.value=e),disabled:!f.value,rows:4,placeholder:"请输入内容",maxlength:1e3},null,8,["value","disabled"])]),(0,t.Lk)("div",c,[a[8]||(a[8]=(0,t.Lk)("span",null,"成长评估报告模板语",-1)),(0,t.bF)(s,{value:g.value,"onUpdate:value":a[2]||(a[2]=e=>g.value=e),disabled:!f.value,rows:4,placeholder:"请输入内容",maxlength:1e3},null,8,["value","disabled"])]),(0,t.Lk)("div",p,[a[9]||(a[9]=(0,t.Lk)("span",null,"当前评估周期名称",-1)),(0,t.bF)(s,{value:y.value,"onUpdate:value":a[3]||(a[3]=e=>y.value=e),disabled:!f.value,rows:3,placeholder:"标题不能超过20字",maxlength:20},null,8,["value","disabled"])])]),f.value?((0,t.uX)(),(0,t.CE)("div",h,[(0,t.bF)(n,{type:"primary",onClick:_},{default:(0,t.k6)((()=>a[10]||(a[10]=[(0,t.eW)("确定")]))),_:1})])):(0,t.Q3)("",!0)])):((0,t.uX)(),(0,t.CE)("div",k,[(0,t.bF)(u,{description:"您暂无权限查看该页面0~0"})]))}}},b=l(3578);const g=(0,b.A)(m,[["__scopeId","data-v-f70a6d60"]]);var y=g}}]);
//# sourceMappingURL=500.c79fc823.js.map